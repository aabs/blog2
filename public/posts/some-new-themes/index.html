<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Some new themes. | The Wandering Glitch</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system.">
    <meta name="generator" content="Hugo 0.92.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Some new themes." />
<meta property="og:description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://45.89.107.9/posts/some-new-themes/" /><meta property="article:section" content="posts" />



<meta itemprop="name" content="Some new themes.">
<meta itemprop="description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system.">

<meta itemprop="wordCount" content="481">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Some new themes."/>
<meta name="twitter:description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        The Wandering Glitch
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Some new themes.</h1>
      
      <p class="tracked">
        By <strong>Andrew Matthews</strong>
      </p>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to.  I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system. It seemed natural for me to explore the idea of using generic algorithms at the heart of code generation frameworks since a generic algorithm would allow me to reuse my code generator regardless of the metadata format or the output stream.</p>
<p>Consider this:</p>
<pre><code>public class CodeGenerator&lt;DataSource, TemplateSource, CodeGenerationPolicy&gt;{
// ...
}


using CodeGenerator&lt;DatabaseModel,
    DatabaseSqlCreationTemplate,
    SingleFilePerTopLevelElementPolicy&gt; SqlCreateTpl;

SqlCreateTpl tpl = new SqlCreateTpl(GetModel(),
Factory.GetTemplate(typeof(DatabaseSqlCreationTemplate)),
    Factory.GetCodeGenPolicy());

tpl.Run();
</code></pre>
<p>Neat huh? I&rsquo;d prefer to write code like that than write code that must explicitly acknowledge where the data comes from, what it&rsquo;s format is, and how it is to be disposed of in the code generator. Up until now, I have achieved design-reuse, but never code-reuse. From looking at other code generators, the problem abounds. Most systems I have worked with provide the code expansion part, and the template language part, but tend to stick to a single metadata source when it comes to generating code or other artifacts.  A case in point are the persistence-tier code generators that purport to be general purpose code generators but that only take data from a specific database API. These don&rsquo;t provide the degree of genericity required to share code between wildly different systems such as a DBC proxy class generator and an Object to Relational mapping system. In the first example our data comes from reflecting the metadata of a .NET assembly in the later it comes from reflecting the schema of a relational database (or both). We need a code generator that will work regardless of where it&rsquo;s data comes from, and how and where its output gets generated. We need to separate the algorithm of the code generation process from the structure of the metadata source, and they both need to be isolated from what happens to the stuff that the template system outputs.</p>
<p>The solution of these problems was the grail of the beautiful C++ <a href="http://en.wikipedia.org/wiki/Standard_Template_Library">Standard Template Library</a> of Alex Stepanov. It is still a matter of debate whether something like the STL is possible in C#, but early <a href="http://www.itu.dk/research/c5/">work</a>  is yielding possibilities that hold out hope. I propose to give code generation the STL treatment. In the process I will explore many related ideas that have been bugging me about my ORM and DBC systems. Chief amongst those is the matter of policy vs configuration and how you store them.</p>
<p>There&rsquo;s my manifesto for the weeks/months ahead! I have some holiday coming up, so I may even deliver on the promise. ;-)</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://45.89.107.9/" >
    &copy;  The Wandering Glitch 2022 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
