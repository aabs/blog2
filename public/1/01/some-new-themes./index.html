<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Some new themes. - The Wandering Glitch</title>
  <meta property="og:title" content="Some new themes. - The Wandering Glitch" />
  <meta name="twitter:title" content="Some new themes. - The Wandering Glitch" />
  <meta name="description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system.">
  <meta property="og:description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system.">
  <meta name="twitter:description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. …">
  <meta name="author" content="Andrew Matthews"/>
  <meta property="og:site_name" content="The Wandering Glitch" />
  <meta property="og:url" content="https://industrialinference.com/1/01/some-new-themes./" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.92.2" />

  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />

  <script src="/js/script.js"></script>
  <script src="/js/custom.js"></script>
  <script defer src="/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">The Wandering Glitch</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-categories"><a href="/categories/" title="Categories">Categories</a></li>
      <li class="site-navi-item-tags"><a href="/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-archives"><a href="/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <article class="article">
      
      
      <h1 class="article-title">Some new themes.</h1>
      
      <hr class="article-title-bottom">
      <ul class="article-meta">
        <li class="article-meta-date"><time>January 1, 0001</time></li>
      </ul>
      
<aside class="toc">
  <nav id="TableOfContents"></nav>
</aside>
      <p>No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to.  I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system. It seemed natural for me to explore the idea of using generic algorithms at the heart of code generation frameworks since a generic algorithm would allow me to reuse my code generator regardless of the metadata format or the output stream.</p>
<p>Consider this:</p>
<pre><code>public class CodeGenerator&lt;DataSource, TemplateSource, CodeGenerationPolicy&gt;{
// ...
}


using CodeGenerator&lt;DatabaseModel,
    DatabaseSqlCreationTemplate,
    SingleFilePerTopLevelElementPolicy&gt; SqlCreateTpl;

SqlCreateTpl tpl = new SqlCreateTpl(GetModel(),
Factory.GetTemplate(typeof(DatabaseSqlCreationTemplate)),
    Factory.GetCodeGenPolicy());

tpl.Run();
</code></pre>
<p>Neat huh? I&rsquo;d prefer to write code like that than write code that must explicitly acknowledge where the data comes from, what it&rsquo;s format is, and how it is to be disposed of in the code generator. Up until now, I have achieved design-reuse, but never code-reuse. From looking at other code generators, the problem abounds. Most systems I have worked with provide the code expansion part, and the template language part, but tend to stick to a single metadata source when it comes to generating code or other artifacts.  A case in point are the persistence-tier code generators that purport to be general purpose code generators but that only take data from a specific database API. These don&rsquo;t provide the degree of genericity required to share code between wildly different systems such as a DBC proxy class generator and an Object to Relational mapping system. In the first example our data comes from reflecting the metadata of a .NET assembly in the later it comes from reflecting the schema of a relational database (or both). We need a code generator that will work regardless of where it&rsquo;s data comes from, and how and where its output gets generated. We need to separate the algorithm of the code generation process from the structure of the metadata source, and they both need to be isolated from what happens to the stuff that the template system outputs.</p>
<p>The solution of these problems was the grail of the beautiful C++ <a href="http://en.wikipedia.org/wiki/Standard_Template_Library">Standard Template Library</a> of Alex Stepanov. It is still a matter of debate whether something like the STL is possible in C#, but early <a href="http://www.itu.dk/research/c5/">work</a>  is yielding possibilities that hold out hope. I propose to give code generation the STL treatment. In the process I will explore many related ideas that have been bugging me about my ORM and DBC systems. Chief amongst those is the matter of policy vs configuration and how you store them.</p>
<p>There&rsquo;s my manifesto for the weeks/months ahead! I have some holiday coming up, so I may even deliver on the promise. ;-)</p>

    </article>

    
<ul class="article-share">
  <li>
    
    <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https://industrialinference.com/1/01/some-new-themes./" target="_blank" rel="noopener" aria-label="Facebook">
      <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg></div>Facebook</div>
    </a>
  </li>
  <li>
    
    <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Some%20new%20themes.%20-%20The%20Wandering%20Glitch&amp;url=https://industrialinference.com/1/01/some-new-themes./" target="_blank" rel="noopener" aria-label="Twitter">
      <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div>Twitter</div>
    </a>
  </li>
</ul>


    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/1/01/some-beautiful-images-from-derek/" data-toggle="tooltip" data-placement="top" title="Some beautiful images from Derek">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/1/01/some-pictures-of-carlton-gardens/" data-toggle="tooltip" data-placement="top" title="Some pictures of Carlton Gardens">Older &gt;</a>
      </li>
    </ul>
  </div>


<div class="site-footer">
  <div class="copyright">Andrew Matthews</div>
  <ul class="site-footer-items">
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>


</body>
</html>
