<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
  Some new themes. · The Wandering Glitch
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system.">
<meta name="keywords" content="">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Some new themes."/>
<meta name="twitter:description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system."/>

<meta property="og:title" content="Some new themes." />
<meta property="og:description" content="No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to. I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://industrialinference.com/1/01/some-new-themes./" /><meta property="article:section" content="posts" />






<link rel="canonical" href="https://industrialinference.com/1/01/some-new-themes./">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.7f9d180e3b3bebba9ba80d55eed1255c35e00764872854736d6ad7db38884ffc.css" integrity="sha256-f50YDjs767qbqA1V7tElXDXgB2SHKFRzbWrX2ziIT/w=" crossorigin="anonymous" media="screen" />








 




<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">




<meta name="generator" content="Hugo 0.108.0">





  </head>




<body class="preload-transitions colorscheme-light">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      The Wandering Glitch
    </a>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://industrialinference.com/1/01/some-new-themes./">
              Some new themes.
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="0001-01-01T00:00:00Z">
                January 1, 0001
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div>
        
        <p>No, not display themes in my blog. I&rsquo;m going to start some new themes on design and development issues. There&rsquo;s a few things that I felt I ought to give a systematic treatment to.  I&rsquo;ve had a few conversations lately that brought my mind back to the issues of code generation and its related patterns. I&rsquo;ve also been playing with generic algorithms in C# 2.0 for type introspection in my DBC system. It seemed natural for me to explore the idea of using generic algorithms at the heart of code generation frameworks since a generic algorithm would allow me to reuse my code generator regardless of the metadata format or the output stream.</p>
<p>Consider this:</p>
<pre><code>public class CodeGenerator&lt;DataSource, TemplateSource, CodeGenerationPolicy&gt;{
// ...
}


using CodeGenerator&lt;DatabaseModel,
    DatabaseSqlCreationTemplate,
    SingleFilePerTopLevelElementPolicy&gt; SqlCreateTpl;

SqlCreateTpl tpl = new SqlCreateTpl(GetModel(),
Factory.GetTemplate(typeof(DatabaseSqlCreationTemplate)),
    Factory.GetCodeGenPolicy());

tpl.Run();
</code></pre>
<p>Neat huh? I&rsquo;d prefer to write code like that than write code that must explicitly acknowledge where the data comes from, what it&rsquo;s format is, and how it is to be disposed of in the code generator. Up until now, I have achieved design-reuse, but never code-reuse. From looking at other code generators, the problem abounds. Most systems I have worked with provide the code expansion part, and the template language part, but tend to stick to a single metadata source when it comes to generating code or other artifacts.  A case in point are the persistence-tier code generators that purport to be general purpose code generators but that only take data from a specific database API. These don&rsquo;t provide the degree of genericity required to share code between wildly different systems such as a DBC proxy class generator and an Object to Relational mapping system. In the first example our data comes from reflecting the metadata of a .NET assembly in the later it comes from reflecting the schema of a relational database (or both). We need a code generator that will work regardless of where it&rsquo;s data comes from, and how and where its output gets generated. We need to separate the algorithm of the code generation process from the structure of the metadata source, and they both need to be isolated from what happens to the stuff that the template system outputs.</p>
<p>The solution of these problems was the grail of the beautiful C++ <a href="http://en.wikipedia.org/wiki/Standard_Template_Library">Standard Template Library</a> of Alex Stepanov. It is still a matter of debate whether something like the STL is possible in C#, but early <a href="http://www.itu.dk/research/c5/">work</a>  is yielding possibilities that hold out hope. I propose to give code generation the STL treatment. In the process I will explore many related ideas that have been bugging me about my ORM and DBC systems. Chief amongst those is the matter of policy vs configuration and how you store them.</p>
<p>There&rsquo;s my manifesto for the weeks/months ahead! I have some holiday coming up, so I may even deliver on the promise. ;-)</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2022
    
    ·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.27afce394fb6284f521b3fbc9f6a8326342333c3092267f3944d770489876fed.js" integrity="sha256-J6/OOU&#43;2KE9SGz&#43;8n2qDJjQjM8MJImfzlE13BImHb&#43;0="></script>
  

  

  

  

  

  

  

  

  

  
</body>

</html>
